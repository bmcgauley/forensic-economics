# Forensic Economics Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# LIVE API CREDENTIALS
# =============================================================================

# Federal Reserve FRED API Key
# Get your free API key at: https://fredaccount.stlouisfed.org/apikeys
# Required for fetching live 1-Year Treasury Constant Maturity Rate (DGS1)
FRED_API_KEY=your_fred_api_key_here

# California EDD Open Data Portal
# No API key required for public access
# API Documentation: https://edd.ca.gov/en/about_edd/edd_open_data_portal


# =============================================================================
# API CONFIGURATION SETTINGS
# =============================================================================

# Federal Reserve API Timeout (seconds)
# Maximum time to wait for Fed/FRED API responses
# Default: 30 seconds
FED_API_TIMEOUT=30

# California Labor Market API Timeout (seconds)
# Maximum time to wait for CA EDD API responses
# Default: 30 seconds
CA_LABOR_API_TIMEOUT=30

# API Cache Time-To-Live (seconds)
# How long to cache API responses before refetching
# Default: 3600 seconds (1 hour)
API_CACHE_TTL=3600

# API Retry Settings
# Maximum number of retry attempts for failed API calls
# Default: 3 retries
API_MAX_RETRIES=3

# Delay between retry attempts (seconds)
# Default: 2 seconds
API_RETRY_DELAY=2


# =============================================================================
# FALLBACK RATES (Used when APIs are unavailable)
# =============================================================================

# Federal Reserve 1-Year Treasury Rate Fallback
# Used when FRED API is unavailable
# Default: 0.0425 (4.25% - based on 2025 market conditions)
FED_FALLBACK_RATE=0.0425

# California Wage Growth Fallback Rate
# Used when CA EDD API is unavailable
# Default: 0.028 (2.8% - California average wage growth)
CA_WAGE_GROWTH_FALLBACK=0.028


# =============================================================================
# FLASK APPLICATION SETTINGS
# =============================================================================

# Flask Environment (development, production, testing)
FLASK_ENV=development

# Flask Secret Key (change this to a random string in production)
FLASK_SECRET_KEY=dev-secret-key-change-in-production

# Flask Debug Mode (True/False)
FLASK_DEBUG=True

# Flask Host
FLASK_HOST=0.0.0.0

# Flask Port
FLASK_PORT=5000


# =============================================================================
# DATA SOURCES
# =============================================================================

# Static Data Files Locations
SKOOG_TABLES_PATH=data/skoog_tables/skoog_2019_markov_model.json
LIFE_TABLES_PATH=data/life_tables/cdc_us_life_tables_2023.json
CA_COUNTIES_PATH=data/california_counties.json
SOC_OCCUPATIONS_PATH=data/soc_occupations.json


# =============================================================================
# JOB PROCESSING SETTINGS
# =============================================================================

# Maximum concurrent jobs
MAX_CONCURRENT_JOBS=10

# Job timeout (seconds)
JOB_TIMEOUT=300

# Job cleanup interval (seconds)
JOB_CLEANUP_INTERVAL=3600


# =============================================================================
# LOGGING SETTINGS
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log File Path
LOG_FILE=logs/forensic_economics.log


# =============================================================================
# API ENDPOINTS DOCUMENTATION
# =============================================================================

# Federal Reserve H.15 Selected Interest Rates
# Source: https://www.federalreserve.gov/releases/h15/current/
# API: https://api.stlouisfed.org/fred/series/observations
# Series: DGS1 (1-Year Treasury Constant Maturity Rate)
# Updates: Daily (business days)
# Documentation: https://fred.stlouisfed.org/docs/api/fred/

# California Labor Market Information
# Source: https://labormarketinfo.edd.ca.gov/
# API: https://data.edd.ca.gov/resource/dcfs-wgss.json
# Dataset: Occupational Employment Statistics and Wages (OES)
# Updates: Quarterly
# Documentation: https://edd.ca.gov/en/about_edd/how_to_use_the_edd_open_data_portal/
# Technical Support: opendata@edd.ca.gov


# =============================================================================
# IMPORTANT NOTES
# =============================================================================

# 1. FRED API Key Registration:
#    - Visit: https://fredaccount.stlouisfed.org/apikeys
#    - Create a free account
#    - Request an API key (free, instant approval)
#    - FRED Terms: https://fred.stlouisfed.org/docs/api/terms_of_use.html

# 2. Rate Limits:
#    - FRED: No official rate limit, but be reasonable with requests
#    - CA EDD: Public API, standard rate limits apply

# 3. Fallback Behavior:
#    - When APIs are unavailable, system uses fallback rates
#    - Fallback rates are based on recent historical averages
#    - Provenance logs indicate when fallback rates are used

# 4. Data Freshness:
#    - Treasury rates: Updated daily (business days)
#    - CA wage data: Updated quarterly
#    - Cache TTL set to 1 hour to balance freshness and API usage

# 5. Production Deployment:
#    - Set FLASK_ENV=production
#    - Change FLASK_SECRET_KEY to a strong random string
#    - Set FLASK_DEBUG=False
#    - Configure proper logging
#    - Ensure FRED_API_KEY is set
#    - Consider adding monitoring for API availability
